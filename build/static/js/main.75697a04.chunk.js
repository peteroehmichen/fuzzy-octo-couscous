(this["webpackJsonpfuzzy-octo-couscous"]=this["webpackJsonpfuzzy-octo-couscous"]||[]).push([[0],{185:function(e,t,c){},324:function(e,t,c){"use strict";c.r(t);var n=c(0),a=c.n(n),s=c(66),r=c.n(s),i=(c(185),c(16)),j=c(2);function l(e){var t=Object(n.useState)([]),c=Object(i.a)(t,2),a=c[0],s=c[1],r=Object(n.useState)(),l=Object(i.a)(r,2),b=l[0],o=l[1];return Object(n.useEffect)((function(){try{var e=JSON.parse(localStorage.getItem("timeLogs"));s(Object.keys(e))}catch(t){console.log("No Data in Local Storage",t.message)}}),[]),Object(j.jsxs)(n.Fragment,{children:[Object(j.jsxs)("div",{className:"title",children:[Object(j.jsx)("h1",{children:"Zeiterfassung"}),Object(j.jsx)("h3",{children:"Bitte w\xe4hle einen Nutzer"})]}),Object(j.jsxs)("div",{className:"user-body",children:[Object(j.jsx)("p",{children:"Bestehende Nutzer"}),Object(j.jsxs)("select",{id:"existing",defaultValue:"choose",onChange:function(e){o(e.target.value)},children:[Object(j.jsx)("option",{disabled:!0,value:"choose",children:"Bitte ausw\xe4hlen..."}),a&&a.map((function(e,t){return Object(j.jsx)("option",{value:e,children:e},t)}))]}),Object(j.jsx)("p",{children:"oder erstelle einen neuen Nutzer"}),Object(j.jsx)("input",{type:"text",name:"newUser",placeholder:"Dein Name",onChange:function(e){o(e.target.value)}}),Object(j.jsx)("button",{onClick:function(){try{if(!a.includes(b)){var t=JSON.parse(localStorage.getItem("timeLogs"))||{};t[b]=null,localStorage.setItem("timeLogs",JSON.stringify(t))}e.selectName(b)}catch(c){console.log("received an error while updating LS:",c.message)}},children:"Submit"})]})]})}function b(e){var t=Object(n.useState)(e.children[0].props.label),c=Object(i.a)(t,2),a=c[0],s=c[1],r=function(e){s(e.target.innerText)};return Object(j.jsxs)("div",{className:"frame",children:[Object(j.jsx)("div",{className:"tabs",children:e.children.map((function(e,t){return Object(j.jsx)("div",{className:"tab ".concat(a===e.props.label?"active":""),onClick:r,children:e.props.label},t)}))}),e.children.find((function(e){return e.props.label===a}))]})}var o=c(39),d=c(26),O=c(75),u=c(334);function h(e){var t,c,a,s=Object(n.useState)(),r=Object(i.a)(s,2),l=r[0],b=r[1],h=Object(n.useState)({}),x=Object(i.a)(h,2),m=x[0],f=x[1],g=Object(n.useState)({}),v=Object(i.a)(g,2),p=v[0],y=v[1],S=Object(n.useState)(!1),N=Object(i.a)(S,2),k=N[0],C=N[1],w=Object(n.useState)(),L=Object(i.a)(w,2),M=L[0],z=L[1],D=Object(n.useState)(),J=Object(i.a)(D,2),H=J[0],I=J[1];Object(n.useEffect)((function(){try{b(JSON.parse(localStorage.getItem("timeLogs"))[e.user])}catch(t){console.log("could not read LS:",t.message)}}),[e.user]),Object(n.useEffect)((function(){try{var t=JSON.parse(localStorage.getItem("timeLogs"));t[e.user]=l,localStorage.setItem("timeLogs",JSON.stringify(t))}catch(c){console.log("could not access LS:",c.message)}}),[e.user,l]);var B=Object(j.jsx)("p",{children:"No previous entries found"});var E=Object(j.jsxs)("button",{className:"start-stop",onClick:function(){var e=l?Object(O.a)(l):[];e.unshift({start:Date.now()}),b(e)},children:[Object(j.jsx)("p",{children:"\ud83d\udfe2"}),Object(j.jsx)("h3",{children:"Starte eine neue Zeiterfassung"})]}),A=Object(j.jsxs)("button",{className:"start-stop",onClick:function(){var e=Object(O.a)(l);e[0].end=Date.now(),b(e)},children:[Object(j.jsx)("p",{children:"\ud83d\uded1"}),Object(j.jsx)("h3",{children:"Beende die aktuelle Zeiterfassung"})]});return Object(j.jsxs)("div",{className:"sections",children:[Object(j.jsxs)("div",{children:[(!l||!l.length)&&E,l&&(null===(t=l[0])||void 0===t?void 0:t.end)&&E,l&&(null===(c=l[0])||void 0===c?void 0:c.start)&&!(null===(a=l[0])||void 0===a?void 0:a.end)&&A]}),Object(j.jsx)("h3",{children:"Bisher erfasste Zeiten"}),Object(j.jsxs)("div",{className:"times-table",children:[Object(j.jsxs)("table",{children:[Object(j.jsx)("thead",{children:Object(j.jsxs)("tr",{children:[Object(j.jsx)("th",{}),Object(j.jsx)("th",{children:"Start"}),Object(j.jsx)("th",{children:"End"}),Object(j.jsx)("th",{children:"Funktionen"})]})}),Object(j.jsx)("tbody",{children:l&&l.map((function(e,t){return Object(j.jsxs)("tr",{children:[Object(j.jsxs)("td",{children:[t+1,")"]}),Object(j.jsxs)("td",{children:[!m[t]&&Object(u.a)(e.start,"dd.MM.yyyy', um 'HH:mm' Uhr'"),m[t]&&Object(j.jsx)("input",{type:"datetime-local",name:"start",value:Object(u.a)(e.start,"yyy-MM-dd'T'HH:mm"),onChange:function(e){z(e.target.value)}})]}),Object(j.jsxs)("td",{children:[!m[t]&&e.end&&Object(u.a)(e.end,"dd.MM.yyyy', um 'HH:mm' Uhr'"),m[t]&&e.end&&Object(j.jsx)("input",{type:"datetime-local",name:"start",value:Object(u.a)(e.end,"yyy-MM-dd'T'HH:mm"),onChange:function(e){I(e.target.value)}})]}),Object(j.jsxs)("td",{children:[!m[t]&&Object(j.jsx)("button",{disabled:k,onClick:function(){f(Object(d.a)(Object(d.a)({},m),{},Object(o.a)({},t,!0))),C(!0)},children:"Bearbeiten"}),m[t]&&Object(j.jsxs)(n.Fragment,{children:[Object(j.jsxs)("button",{onClick:function(){f(Object(d.a)(Object(d.a)({},m),{},Object(o.a)({},t,!1))),C(!1),I(),z()},children:[" ","Abbrechen"]}),Object(j.jsx)("button",{onClick:function(){C(!1),f(Object(d.a)(Object(d.a)({},m),{},Object(o.a)({},t,!1))),function(e){var t=!!M&&new Date(M),c=!!H&&new Date(H),n=Object(O.a)(l);t&&(n[e].start=t.valueOf()),c&&(n[e].end=c.valueOf()),b(n)}(t)},children:"Speichern"})]})]}),Object(j.jsxs)("td",{children:[!p[t]&&Object(j.jsx)("button",{disabled:k,onClick:function(){y(Object(d.a)(Object(d.a)({},p),{},Object(o.a)({},t,!0))),C(!0)},children:"L\xf6schen"}),p[t]&&Object(j.jsxs)(n.Fragment,{children:[Object(j.jsx)("button",{onClick:function(){y(Object(d.a)(Object(d.a)({},p),{},Object(o.a)({},t,!1))),C(!1)},children:"Abbrechen"}),Object(j.jsx)("button",{onClick:function(){C(!1),y(Object(d.a)(Object(d.a)({},p),{},Object(o.a)({},t,!1))),function(e){var t=Object(O.a)(l);t.splice(e,1),b(t)}(t)},children:"L\xf6schen"})]})]})]},t)}))})]}),!l&&B]})]})}var x=c(335),m=c(333),f=c(326),g=c(327),v=c(331),p=c(172),y=c(173),S=c(76),N=c(72),k=c(175);function C(e){var t=Object(n.useState)(),c=Object(i.a)(t,2),a=c[0],s=c[1];Object(n.useEffect)((function(){try{s(JSON.parse(localStorage.getItem("timeLogs"))[e.user])}catch(t){console.log("could not read LS:",t.message)}}),[e.user]);var r="daily"===e.mode?"dd.MM.yyyy":"MM/yyyy",l={},b=[];if(a){a.forEach((function(e){var t=Object(u.a)(e.end,r);l[t]?l[t]+=Object(x.a)(e.end,e.start):l[t]=Object(x.a)(e.end,e.start)}));for(var o=0,d=Object.keys(l);o<d.length;o++){var O=d[o];b.push({name:O,hours:l[O]})}b.sort((function(e,t){return Object(m.a)(t.name,r,new Date)-Object(m.a)(e.name,r,new Date)}))}return Object(j.jsx)("div",{className:"sections",children:Object(j.jsx)(f.a,{width:"100%",height:"100%",children:Object(j.jsxs)(g.a,{width:500,height:300,data:b,margin:{top:5,right:30,left:20,bottom:5},children:[Object(j.jsx)(v.a,{strokeDasharray:"3 3"}),Object(j.jsx)(p.a,{dataKey:"name"}),Object(j.jsx)(y.a,{}),Object(j.jsx)(S.a,{}),Object(j.jsx)(N.a,{}),Object(j.jsx)(k.a,{dataKey:"hours",fill:"#82ca9d"})]})})})}var w=function(){var e=Object(n.useState)(""),t=Object(i.a)(e,2),c=t[0],a=t[1],s=Object(j.jsxs)("div",{className:"inner-header",children:[Object(j.jsx)("div",{children:Object(j.jsxs)("b",{children:["Aktiver Nutzer: ",c]})}),Object(j.jsx)("div",{onClick:function(){a(!1)},children:"\u274c"})]});return Object(j.jsxs)("div",{className:"App",children:[!c&&Object(j.jsx)(l,{selectName:a}),c&&s,c&&Object(j.jsxs)(b,{children:[Object(j.jsx)(h,{label:"Zeiten hinzuf\xfcgen / bearbeiten",user:c}),Object(j.jsx)(C,{label:"Arbeitszeiten pro Tag",user:c,mode:"daily"}),Object(j.jsx)(C,{label:"Arbeitszeiten pro Monat",user:c,mode:"monthly"})]})]})};r.a.render(Object(j.jsx)(a.a.StrictMode,{children:Object(j.jsx)(w,{})}),document.getElementById("root"))}},[[324,1,2]]]);
//# sourceMappingURL=main.75697a04.chunk.js.map